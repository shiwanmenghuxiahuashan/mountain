<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>享元模式</title>
</head>

<body>
<div id="container"></div>
<button id="next">下一页</button>
    <script>
        var Flyweight=(function(){
            var created=[];
            function create(){
                var dom=document.createElement('div');
                document.getElementById('container').appendChild(dom);
                created.push(dom);
                return dom;
            }

            return {
                get:function(){
                    if(created.length<5){
                        return create();
                    }else{
                        var div= created.shift();
                        created.push(div);
                        return div;
                    }
                }
            }
        })()
        var article=['a','b','c','d','e','f']
        var paper=0,num5,len=article.length;
        for(var i=0;i<5;i++){
            if(article[i]){
                Flyweight.get().innerHTML=article[i];
            }
        }


var test=['66666','7777777777','888888888888','999999999999','1010101010']
        document.getElementById("next").onclick=function(){
            for(var j=0;j<5;j++){
            if(test[j]){
                Flyweight.get().innerHTML=test[j];
            }
        }
        }

    </script>
</body>

</html>