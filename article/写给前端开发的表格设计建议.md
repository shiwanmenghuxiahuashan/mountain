写给前端开发的表格设计建议
================================
我已经习惯使用UI库中的表格组件，但是在实际开发中，总是会有一些定制需求需要你自己实现，这里总结了一些表格UI设计 ，组件设计的建议，希望对你有所帮助。

# 功能相关：

## 1. 排序和过滤：

排序和过滤不仅仅是提供易用性，它们是处理数据的关键功能：理解**趋势**、比较记录和查找特定值。
有着了解趋势，比较数据，查找特定值的作用

抛去调用远程接口返回数据，重新渲染表格的情况，前端通常需要在前端本地实现排序, 过滤功能。

* **排序与筛选**：直接跟在某个字段的标题之后，点击更改排序方式或筛选标准 
* **栏搜索**：搜索功能与列表内容融合，可根据每个栏的字段单独搜索 
* **搜索模块**：将搜索模块放在列表上方，可选择几个重要的字段作为独立的搜索

### 关于排序

#### 用户想看最便宜(float)的产品

基于 数字 (number, int, float)类型的排序，无外乎升序和降序。

**不要依赖隐式转换，这样会导致排序错误。**

字符串类型的数字，需要转换为数字类型再进行排序。

```javascript
const a = '8';
const b = '10';
console.log(a > b); // 输出：true（实际数值 8 < 10） 字符串按ASCII码逐位比较
```

js比较字符串时，会逐个字符对比其ASCII码，而非按数值大小:

01. '8'的ASCII码是56，'10'的第一个字符'1'的ASCII码是49，因此'8' > '10'返回true。
02. 纯数字字符串与纯数字比较：JS会将字符串隐式转为数字再比较 `如'8' > 10返回false`
03. 纯数字字符串之间比较：按ASCII码逐位比较 `如'8' > '10'返回true`

#### 用户想看最近(date)的订单

日期排序，需要看清楚是按时间戳还是日期字符串排序。
如果是时间戳，直接比较即可。
如果是日期字符串，需要转换为时间戳再比较。

#### 用户想看不为空的单元格(cell)在表格上方显示

空值可能是 null, undefined, '', NaN, 0, false, 但是在排序时，我们需要将其排在最后。

#### 用户想看热度(mix value)最高电影?

显示的值与需要排序的值不一致，"热度"列的值可能是 "大热"，"热门"，"冷门"，"值的一看"等，这时候需要数据中提供排序依据字段(order)，在排序时使用排序依据字段对应的值。

| 热度 | order |
|------|---------|
| 大热 | 3       |
| 热门 | 2       |
| 冷门 | 1       |
| 值得一看 | 5  |

### 关于搜索

如果添加基于列的过滤器（基于如日期、布尔值、字符串等元数据）成本过高，可以从更基础的搜索框（可过滤匹配行）或基于常见用例的几个硬编码过滤器开始，**渐进式的开发，对上管理用起来，先解决有没有，再解决好不好**。

## 2. 可调整大小的列

单元格内容过长时，通常会超出隐藏，用户点击或悬停单元格进行查看完整值，想一目了然的阅读表格表格会很困难，这时候需要允许用户调整列宽度。

### 超出隐藏不利于阅读

| 标题 | other ...|
|------|---------|
| 《金瓶... | -        |
| 《西门... | -        |
| 《武大... | -   |

### 调整宽度后

| 标题 | other ...|
|------|---------|
| 《金瓶掣签》 | -        |
| 《西门子-德国白色家电王朝》 | -        |
| 《武大校训-自强弘毅求是拓新》 | -   |

## 3. 允许列重排

对于大型表格，不同用户因关注点不同，对列字段的先后顺序有不同需求。通过列重排，用户可以配置表格以满足他们的特定需求。

这个相对较小的功能可以减少杂乱并节省一些来回滚动的操作。重新排列列可以让用户专注于某些区域，并消化更小的信息部分。

## 4. 表格编辑

有许多编辑表格单元格的 UI 解决方案：内联框（处理无限行时不好）、弹出窗口（令人烦恼）、可展开部分（一般般），以及其他。

作为一名前端，我目前最推荐的表格编辑模式是，选中一行数据后从侧面弹出一个抽屉，在抽屉内通过表单编辑。

这样做的好处是与表格解耦，数据独立，读写分离，同时在面对表格内大量文本，媒体内容编辑时，不会受到表格单元格大小的限制，用户体验更好。

**行内编辑是一个非常坑的功能，无论哪个库号称它支持的多么好，一些奇怪需求总会折磨时间紧任务重的你**

# UI设计相关

## 5. 小屏幕设计

当然，连接到巨型显示器进行设计和开发更方便，但想想那些使用笔记本电脑或小尺寸屏幕的用户。

无限滚动（水平和垂直）、缩小的列、隐藏的文本，这些都可能破坏体验并让用户感到烦恼，所以请确保在小屏幕上检查你的设计，并且绝对要尝试用真实数据（而不是通常的“aaa”和“bbb”）使用一段时间。

如果真的很糟糕——你可能需要针对那些可用性问题发挥创意，所以最好提前了解它们。

### 翻页 vs 无限滚动

翻页和无限滚动各有优劣，翻页适合用户查找特定数据，无限滚动适合用户查看大量数据。
在小屏幕上，无限滚动可能会导致用户滚动过多，翻页可能会导致用户点击过多。
可以两者结合，当用户滚动若干页后，再显示分页组件。

## 6. 将一些标识符与固定标题和“冻结”列锚定

浏览数据时，用户需要滚动很多（垂直和水平），这意味着他们需要一些锚点来找到方向：
* 列头在向下滚动时必须固定
* 第一列应冻结以便在水平滚动时仍能保持行的上下文。

##  7. 行交替颜色

使用大数据表时很容易看错行。

斑马条纹可以帮助用户保持位置，但彩色行必须非常浅，否则它们会造成杂乱，可能看起来像选中的行。
使用非常浅的颜色，避免使用黑色线条和深色边框，而是将所有内容设置为浅灰色。

## 8. 设置固定行高

表格和网格关乎结构化信息，但当表格列宽过多且行高不同时——事情变得杂乱无章，信息感觉结构化程度降低。
虽然我认为可调整列是必需的——而可调整行则是另一回事：它增加了另一个维度，可能会比有帮助更多地让用户感到困惑。
因此，为了整体可用性和美观，我认为所有行都应该具有完全相同的高度，无论内容如何。

为了更好地支持多行文本块，请考虑以下内容：

* 将换行符替换为空格，并将整个文本转换为一行（可以通过调整列宽查看）。
* 将行高（所有行的行高）改为 2 行而不是 1 行（这只能解决一些场景）。
* 使用工具提示（不，忘了那个。工具提示很烂）。
* 考虑通过点击行来展开/折叠行的选项（这可能是必需的功能）。
* 考虑使用浮动的侧视图显示所选行的详细信息，如第 4 条规则所述。
# 美学

美学设计带来更好的可用性。
以下是一些通过简单的 UI 设计修改来清除杂乱并提高内容可读性的方法：

## 9. 增加单元格间距

Whitespaces again. Yes, again.
空格再次出现。是的，又来了。
Tables loaded with information are exactly where your users will want to see some more whitespaces even if it costs them some extra scrolling.
信息满满的表格正是用户希望看到更多空白的地方，即使这让他们多滚动一些。

## 10. 摆脱不必要的边框

一旦数据结构良好且空白处正确放置，就是时候去掉那些冗余边框，或者至少使它们非常薄且颜色浅淡

## 11. 黑色变为深灰色

黑色会增加眼睛疲劳，如果与边框和框架一起出现——那就是一个界面灾难。
使一切变得平和而温柔，这样桌子感觉不那么嘈杂，有助于用户专注于内容。
这个技巧也适用于暗黑模式，其中深灰色背景通常比全黑更容易对眼睛友好。

## 12. 文本应垂直居顶

如果计划每行 2-3 行，请确保它们都居顶对齐，否则，最终会出现文本从中间行开始的单元格，旁边是文本从第一行开始的单元格，造成不一致的体验。

## 13. 文本应水平左对齐

左对齐更容易阅读（假设不是希伯来语或阿拉伯语），所以如果您的单元格显示文本块，请使用左对齐。

## 数字应水平右对齐

不要让您的用户担心小数点。
当涉及到数字时，将文本右对齐可以使其更容易进行审查、比较，并快速在脑海中加总。

## 15. 特殊字段应水平居中

布尔值、日期、电话号码等最好居中排列，以保持结构一致。

## 16. 使用一致的字符串格式化

结构化字段，如电话号码、日期和持续时间，都应该以保持固定数字（或字符）数量并提供一致体验的方式进行格式化。

例如，1/1/19 应格式化为 01/01/19，以确保所有日期具有相同的视觉重量。

令人惊叹的东西，所以基本上每种字段类型都需要稍微不同的方法。
这里是将规则 13-16 合并在一个 UI 片段中的规则：
确保您的字符串格式友好且一致

## 17. 避免使用过多颜色

在某个时刻，用户对颜色变得视而不见，因此明智地使用它们很重要。
1-2 种颜色应该足够了，除非是状态字段，在这种情况下，带颜色的单元格将属于一个专门的列，这也不全是坏事。

## 18. 避免使用过多的字体样式或字体粗细

不要让你的桌面变成一个混乱的战场，颜色、字体类型和不同粗细过多。

一个字体类型应该足够了。

粗体字体只有在偶尔使用时才有意义... 

或者，就像我那老猫过去常说：
如果一切都很突出，那么就没有什么……

## 19. 不要让你的表格因为过多的状态图标或按钮而臃肿

最小化使用可能导致您的用户界面因难以消化的内容而膨胀的视觉符号。
使用鼠标悬停一次高亮一行，同时显示相关操作按钮。

不要臃肿...

## 20. 支持批量操作的多选

如果你的表格需要大量编辑 - 用户会寻找快捷方式。
一种提供快速便捷快捷方式的选项是通过允许多选

大量情况下，批量操作极为必要

与排序和筛选功能一起 - 多选可以帮助用户对多个对象执行批量操作。再次强调 - 只有在您的产品中编辑是频繁活动时才使用此功能。

以上 20 条规则相当基础，但有时由于时间或预算限制，无法实施。

是的，不得不妥协是游戏的一部分……

在这种情况下，我建议添加一个“导出为 CSV”按钮，以便用户可以在 Microsoft Excel 或 Google Sheets 中操作数据（我本人非常重视数据透视）。

这是一个相对简单的功能开发，并且一次解决了许多差距和限制。
